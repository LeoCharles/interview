# HTTP 协议

- HTTP 协议的特点：

  - 无连接：TCP 连接一次就会断掉，不会保持连接
  - 无状态：HTTP 协议不会保存客户端的身份
  - 简单快速：每个资源（URI）固定，处理起来简单
  - 灵活：可以在头部设置不同数据类型，完成不同数据传输

- HTTP 报文的组成部分：

  - 请求报文

    - 请求行
    - 请求头
    - 空行
    - 请求体

  - 响应报文

    - 状态行
    - 响应头
    - 空行
    - 响应体

- HTTP 方法：

  - GET ------> 获取资源
  - POST -----> 传输资源
  - PUT ------> 更新资源
  - DELETE ---> 删除资源
  - HEAD -----> 获取报文首部

- POST 和 GET 的区别：

  - GET 在浏览器回退时是无害的，不会再次请求，而 POST 会再次提交请求
  - GET 请求会被浏览器主动缓存，而 POST 不会，除非手动设置
  - GET 通过 URL 传参，POST 放在请求体中
  - GET 在 URL 中传参有长度限制（2kb），POST 没有限制
  - GET 请求参数会被完整保留在浏览器历史记录里，POST 的参数不会
  - GET 比 POST 更不安全，因为将参数暴露在 URL 中，因此不能用来传递敏感信息

- HTTP 状态码：

  - 1xx：指示信息 -----> 请求已接收，继续处理

  - 2xx：成功 ---------> 请求已成功被接收

    - 200：OK 客户端请求成功
    - 206：Partial Content 客户端发送了一个带有 Range 头的 GET 请求，服务器完成了它（请求视频、音频资源）

  - 3xx：重定向 -------> 要完成请求必须进一步操作

    - 301：Moved Permanently 永久重定向，所有请求已经转移至新的 URL
    - 302：Found 临时重定向，所请求的页面已经临时转移至新的 URL
    - 304：Not Modified 客户端有缓存的文件，缓存文件还可以继续使用

  - 4xx：客户端错误 ----> 请求有语法错误或请求无法实现

    - 400：Bad Request 客户端有语法错误
    - 401：Unauthorized 请求未经授权
    - 403：Forbidden 访问被禁止
    - 404：Not Found 请求资源不存在

  - 5xx：服务器错误 ----> 服务器未能实现合法的请求
    - 500：Internal Server Error 服务器发生不可预期的错误
    - 503：Server Unavailable 请求未完成，服务器临时过载或宕机

- HTTP 持久连接

HTTP 协议采用 `请求-响应` 模式，当使用普通模式，即非 `keep-Alive` 模式时，每此请求/响应，客户端和服务器都要建立 TCP 连接，请求/响应完成以后立即断开连接（HTTP 协议为无连接的协议）

当使用 `keep-Alive` 模式（又称持久连接）时，客户端到服务器的连接持续有效，当出现后继请求时，避免了重新建立连接

HTTP/1.1 版本才支持持久连接
