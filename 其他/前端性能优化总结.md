# 前端性能优化总结

## 缓存

### 强缓存

强缓存通过 `Expires` 和 `Cache-Control` 响应头实现，在缓存期间不需要请求，状态码为 200。

`Expires` 可以设置一个过期时间，浏览器通过将其与当前本地时间对比，判断资源是否过期。

`Cache-Control` 可以设置一个 `max-age`，来控制过期时间。如: `max-age=300` 表示在响应成功后 300 秒内，资源请求会走强缓存。

### 协商缓存

如果强缓存过期了，可以使用协商缓存。协商缓存需要请求，如果缓存有效，状态码会返回 304。协商缓存有两种方式：

（1）、通过 `Last-Modified` 和 `If-Modified-Since` 实现。

`Last-Modified` 表示本地文件最后修改日期。

`If-Modified-Since` 会将 `Last-Modified` 的值发送给服务器，询问服务器在该日期后资源是否有更新，无更新就响应 304，有更新的话就会将新的资源返回。

（2）、`ETag` 和 `If-None-Match`

`ETag` 类似于文件指纹，`If-None-Match` 会将当前 `ETag` 发送给服务器，询问该资源 `ETag` 是否变动，无变动就响应 304，有变动的话就将新的资源返回。

`ETag` 优先级比 `Last-Modified` 高。

## 网络优化

## 代码优化

